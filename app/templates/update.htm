{% extends "home.htm" %}
{% block home_homecontent %}


<section>
    <h2 class="border-bottom border-dark"><i class="fa fa-info-circle"></i> 不具合修正・更新予定</h2>
    <div id="update_schedule">
        <p>
            ・誠に申し訳ございませんが。現在PandAshのログイン機能に障害が発生しているため、PandAshを利用することができません。大変恐縮ですがシステムアップデートをお待ち下さい。
        </p>
    </div>
    <h2 class="border-bottom border-dark">更新ログ</h2>
    <div id="updatelog">
        <ul>
            <li>
                サービス開始　(YYYY/MM/DD HH:MM:SS)
            </li>
        </ul>
    </div>
    <h2 class="border-bottom border-dark">利用状況</h2>
    <div id="usage_status">
        <canvas id="unique-graph-canvas" style="max-width: 500px;"></canvas>
        <canvas id="total-graph-canvas" style="max-width: 500px;"></canvas>
        <script>
            //unique利用者数の推移グラフの描写
            var ctx = document.getElementById("unique-graph-canvas");
            var linechart = new Chart(ctx, {
                type: "line",
                data: {
                    labels: ["{{dashboard.labels.l_1}}", "{{dashboard.labels.l_2}}", "{{dashboard.labels.l_3}}", "{{dashboard.labels.l_4}}", "{{dashboard.labels.l_5}}", "{{dashboard.labels.l_6}}"],
                    datasets: [{
                        label: "利用者数",
                        data: [{{dashboard.unique_data.d_1}}, {{dashboard.unique_data.d_2}}, {{dashboard.unique_data.d_3}}, {{dashboard.unique_data.d_4}}, {{dashboard.unique_data.d_5}}, {{dashboard.unique_data.d_6}}],
                        borderColor: "rgba(0,0,100,0.5)",
                        lineTension: 0,
                        backgroundColor: "rgba(0,0,0,0)"
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: "利用者数の推移"
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                suggestedMin: 0,
                                stepSize: 100,
                                callback: function (value, index, values) {
                                    return value + '人'
                                }
                            }
                        }]
                    }
                }
            })
        </script>
        <script>
            //total利用回数の推移グラフの描写
            var ctx = document.getElementById("total-graph-canvas");
            var linechart = new Chart(ctx, {
                type: "line",
                data: {
                    labels: ["{{dashboard.labels.l_1}}", "{{dashboard.labels.l_2}}", "{{dashboard.labels.l_3}}", "{{dashboard.labels.l_4}}", "{{dashboard.labels.l_5}}", "{{dashboard.labels.l_6}}"],
                    datasets: [{
                        label: "総利用回数",
                        data: [{{dashboard.total_data.d_1}}, {{dashboard.total_data.d_2}}, {{dashboard.total_data.d_3}}, {{dashboard.total_data.d_4}}, {{dashboard.total_data.d_5}}, {{dashboard.total_data.d_6}}],
                        borderColor: "rgba(0,0,100,0.5)",
                        lineTension: 0,
                        backgroundColor: "rgba(0,0,0,0)"
                    }]
                },
                options: {
                    title: {
                        display: true,
                        text: "総利用回数の推移"
                    },
                    scales: {
                        yAxes: [{
                            ticks: {
                                suggestedMin: 0,
                                stepSize: 500,
                                callback: function (value, index, values) {
                                    return value + '回'
                                }
                            }
                        }]
                    }
                }
            })
        </script>
    </div>
</section>


{% endblock %}